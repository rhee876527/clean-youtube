From c0157941d8946180cb5898db0d727545f6abf55f Mon Sep 17 00:00:00 2001
From: Martin Kibera <martin.kibera.n@gmail.com>
Date: Fri, 23 Jan 2026 20:46:26 +0300
Subject: [PATCH] Revert "add music videos support"

This reverts commit d551b4d84af90be2e766c600c3a30439fa35a32f.
---
 README.md    |  1 -
 api/video.js | 13 ++-----------
 2 files changed, 2 insertions(+), 12 deletions(-)

diff --git a/README.md b/README.md
index 67fdd02..2b63a9e 100644
--- a/README.md
+++ b/README.md
@@ -11,7 +11,6 @@ Features added:
 - Timestamp jump fixes.
 - Uses MediaSession API for external media control.
 - Comments from invidious API.
-- Music videos. (Needs invidious instance with local proxy enabled).
 
 Notes:
 - Requires a WORKING invidious instance.
diff --git a/api/video.js b/api/video.js
index 8c0963f..7a01da4 100644
--- a/api/video.js
+++ b/api/video.js
@@ -128,17 +128,8 @@ module.exports = [
 
 			const instanceOrigin = settings.local === 1 ? "http://localhost:3000" : settings.instance;
 			const videoFuture = req.method === "GET"
-				? (async () => {
-					// Fetch with invidious proxy if Music genre is found
-					let v = await request(`${instanceOrigin}/api/v1/videos/${id}`).then(res => res.json());
-
-					if (v && v.genre === "Music") {
-						v = await request(`${instanceOrigin}/api/v1/videos/${id}?local=1`).then(res => res.json());
-					}
-
-					return v;
-				})()
-				: Promise.resolve(JSON.parse(new URLSearchParams(body.toString()).get("video")));
+				? request(`${instanceOrigin}/api/v1/videos/${id}`).then(res => res.json())
+				: JSON.parse(new URLSearchParams(body.toString()).get("video"));
 
 			const commentsFuture = request(`${instanceOrigin}/api/v1/comments/${id}`)
 				.then(res => res.json())
-- 
2.52.0

